<?xml version="1.0" encoding="UTF-8" ?>
<schema name="placenames" version="1.5">
    <types>
        <fieldType name="int" class="solr.TrieIntField" precisionStep="0" positionIncrementGap="0"/>
        <fieldType name="float" class="solr.TrieFloatField" precisionStep="0" positionIncrementGap="0"/>
        <fieldType name="long" class="solr.TrieLongField" precisionStep="0" positionIncrementGap="0"/>
        <fieldType name="double" class="solr.TrieDoubleField" precisionStep="0" positionIncrementGap="0"/>
        <fieldType name="string" class="solr.StrField" sortMissingLast="true" />
        <fieldType name="text" class="solr.TextField" sortMissingLast="true" positionIncrementGap="100">
            <analyzer type="index">
                <tokenizer class="solr.KeywordTokenizerFactory"/>
                <filter class="solr.LowerCaseFilterFactory" />
            </analyzer>
        </fieldType>
        <fieldType name="location" class="solr.SpatialRecursivePrefixTreeFieldType"
            spatialContextFactory="com.spatial4j.core.context.jts.JtsSpatialContextFactory"
            geo="true"
            autoIndex="true"
            distErrPct="0.025"
            maxDistErr="0.001"
            distanceUnits="kilometers" />
    </types>
    <fields>
        <field name="_version_" type="long" indexed="true" stored="true"/>
        <field name="ssrId" type="long" indexed="true" stored="true" required="true" />
        <field name="ssrObjId" type="long" indexed="true" stored="true" required="true" />
        <field name="name_type" type="long" indexed="true" stored="true" required="false" />
        <field name="name_type_str" type="string" indexed="false" stored="true" required="false" />
        <field name="placename" type="string" indexed="false" stored="true" required="true" />
        <field name="placename_search" type="text" indexed="true" stored="false" required="true" />
        <field name="language" type="string" indexed="true" stored="true" required="true" />
        <field name="location" type="location" indexed="true" stored="true" required="true" />
        <field name="jsonObj" type="string" indexed="false" stored="true" required="false" />

        <copyField source="placename" dest="placename_search" />
    </fields>
    <uniqueKey>ssrId</uniqueKey>
</schema>
